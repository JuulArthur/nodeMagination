"use strict";
module.exports = function(app, express, Nerd, User, passport) {
  var express = require('express');
  var router = express.Router();
  var port = process.env.PORT || 8080;
  app.use('/api', router);
  router.get('/', function(req, res) {
    res.json({message: 'hooray! Welcome to my domain'});
  });
  router.route('/nerds').post(function(req, res) {
    var nerd = new Nerd();
    nerd.name = req.body.name;
    nerd.save(function(err) {
      if (err) {
        res.send(err);
      }
      res.json({message: 'Nerd created'});
    });
  }).get(function(req, res) {
    Nerd.find(function(err, nerds) {
      if (err) {
        res.send(err);
      }
      res.json(nerds);
    });
  });
  router.route('/nerd/:nerd_id').get(function(req, res) {
    Nerd.findById(req.params.nerd_id, function(err, nerd) {
      if (err) {
        res.send(err);
      }
      res.json(nerd);
    });
  }).put(function(req, res) {
    Nerd.findById(req.params.nerd_id, function(err, nerd) {
      if (err) {
        res.send(err);
      }
      nerd.name = req.body.name;
      nerd.save(function(err) {
        if (err) {
          res.send(err);
        }
        res.json({message: 'Nerd updated!'});
      });
    });
  }).delete(function(req, res) {
    Nerd.remove({_id: req.params.nerd_id}, function(err, nerd) {
      if (err) {
        res.send(err);
      }
      res.json({message: 'Successfully delete'});
    });
  });
  router.route('/users').post(function(req, res) {
    var user = new User();
    user.email = req.body.email;
    user.password = user.generateHash(req.body.password);
    user.save(function(err) {
      if (err) {
        res.send(err);
      }
      res.json({message: 'Nerd created'});
    });
  }).get(function(req, res) {
    User.find(function(err, users) {
      if (err) {
        res.send(err);
      }
      res.json(users);
    });
  });
  router.route('/login').post(function(req, res, next) {
    passport.authenticate('local-login', function(err, user, info) {
      if (err) {
        return res.json({error: false});
      }
      if (!user) {
        return res.json({authentication_success: false});
      }
      console.log(user);
      console.log(req.logIn);
      req.login(user, function(err, result) {
        if (err) {
          return next(err);
        }
        return res.json({authentication_success: true});
      });
    })(req, res, next);
  });
  router.route('/isAuthenticated').get(function(req, res) {
    res.json({auth: req.isAuthenticated()});
  });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhY2tlbmQvcm91dGVzL2FwaS9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLEtBQUssUUFBUSxFQUFJLFVBQVMsR0FBRSxDQUFHLENBQUEsT0FBTSxDQUFHLENBQUEsSUFBRyxDQUFHLENBQUEsSUFBRyxDQUFHLENBQUEsUUFBTyxDQUFHO0FBRTFELEFBQUksSUFBQSxDQUFBLE9BQU0sRUFBVyxDQUFBLE9BQU0sQUFBQyxDQUFDLFNBQVEsQ0FBQyxDQUFDO0FBQ3ZDLEFBQUksSUFBQSxDQUFBLE1BQUssRUFBSSxDQUFBLE9BQU0sT0FBTyxBQUFDLEVBQUMsQ0FBQztBQUM3QixBQUFJLElBQUEsQ0FBQSxJQUFHLEVBQUksQ0FBQSxPQUFNLElBQUksS0FBSyxHQUFLLEtBQUcsQ0FBQztBQUtuQyxJQUFFLElBQUksQUFBQyxDQUFDLE1BQUssQ0FBRyxPQUFLLENBQUMsQ0FBQztBQUV2QixPQUFLLElBQUksQUFBQyxDQUFDLEdBQUUsQ0FBRyxVQUFVLEdBQUUsQ0FBRyxDQUFBLEdBQUUsQ0FBRztBQUNoQyxNQUFFLEtBQUssQUFBQyxDQUFDLENBQUMsT0FBTSxDQUFHLCtCQUE2QixDQUFDLENBQUMsQ0FBQztFQUN2RCxDQUFDLENBQUM7QUFFRixPQUFLLE1BQU0sQUFBQyxDQUFDLFFBQU8sQ0FBQyxLQUViLEFBQUMsQ0FBQyxTQUFVLEdBQUUsQ0FBRyxDQUFBLEdBQUUsQ0FBRztBQUN0QixBQUFJLE1BQUEsQ0FBQSxJQUFHLEVBQUksSUFBSSxLQUFHLEFBQUMsRUFBQyxDQUFDO0FBQ3JCLE9BQUcsS0FBSyxFQUFJLENBQUEsR0FBRSxLQUFLLEtBQUssQ0FBQztBQUV6QixPQUFHLEtBQUssQUFBQyxDQUFDLFNBQVUsR0FBRSxDQUFHO0FBQ3JCLFNBQUksR0FBRSxDQUFHO0FBQ0wsVUFBRSxLQUFLLEFBQUMsQ0FBQyxHQUFFLENBQUMsQ0FBQztNQUNqQjtBQUFBLEFBRUEsUUFBRSxLQUFLLEFBQUMsQ0FBQyxDQUFFLE9BQU0sQ0FBRyxlQUFhLENBQUUsQ0FBQyxDQUFDO0lBQ3pDLENBQUMsQ0FBQztFQUNOLENBQUMsSUFFRSxBQUFDLENBQUMsU0FBUyxHQUFFLENBQUcsQ0FBQSxHQUFFLENBQUc7QUFDcEIsT0FBRyxLQUFLLEFBQUMsQ0FBQyxTQUFTLEdBQUUsQ0FBRyxDQUFBLEtBQUksQ0FBRztBQUMzQixTQUFJLEdBQUUsQ0FBRztBQUNMLFVBQUUsS0FBSyxBQUFDLENBQUMsR0FBRSxDQUFDLENBQUM7TUFDakI7QUFBQSxBQUVBLFFBQUUsS0FBSyxBQUFDLENBQUMsS0FBSSxDQUFDLENBQUM7SUFDbkIsQ0FBQyxDQUFDO0VBQ04sQ0FBQyxDQUFDO0FBRU4sT0FBSyxNQUFNLEFBQUMsQ0FBQyxnQkFBZSxDQUFDLElBRXRCLEFBQUMsQ0FBQyxTQUFTLEdBQUUsQ0FBRyxDQUFBLEdBQUUsQ0FBRztBQUNwQixPQUFHLFNBQVMsQUFBQyxDQUFDLEdBQUUsT0FBTyxRQUFRLENBQUcsVUFBUyxHQUFFLENBQUcsQ0FBQSxJQUFHLENBQUc7QUFDbEQsU0FBSSxHQUFFLENBQUc7QUFDTCxVQUFFLEtBQUssQUFBQyxDQUFDLEdBQUUsQ0FBQyxDQUFDO01BQ2pCO0FBQUEsQUFFQSxRQUFFLEtBQUssQUFBQyxDQUFDLElBQUcsQ0FBQyxDQUFDO0lBQ2xCLENBQUMsQ0FBQztFQUNOLENBQUMsSUFFRSxBQUFDLENBQUMsU0FBUyxHQUFFLENBQUcsQ0FBQSxHQUFFLENBQUc7QUFDcEIsT0FBRyxTQUFTLEFBQUMsQ0FBQyxHQUFFLE9BQU8sUUFBUSxDQUFHLFVBQVMsR0FBRSxDQUFHLENBQUEsSUFBRyxDQUFHO0FBRWxELFNBQUksR0FBRSxDQUFHO0FBQ0wsVUFBRSxLQUFLLEFBQUMsQ0FBQyxHQUFFLENBQUMsQ0FBQztNQUNqQjtBQUFBLEFBRUEsU0FBRyxLQUFLLEVBQUksQ0FBQSxHQUFFLEtBQUssS0FBSyxDQUFDO0FBRXpCLFNBQUcsS0FBSyxBQUFDLENBQUMsU0FBUyxHQUFFLENBQUc7QUFFcEIsV0FBSSxHQUFFLENBQUc7QUFDTCxZQUFFLEtBQUssQUFBQyxDQUFDLEdBQUUsQ0FBQyxDQUFDO1FBQ2pCO0FBQUEsQUFFQSxVQUFFLEtBQUssQUFBQyxDQUFDLENBQUUsT0FBTSxDQUFHLGdCQUFjLENBQUUsQ0FBQyxDQUFDO01BQzFDLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FBQztFQUNOLENBQUMsT0FFSyxBQUFDLENBQUMsU0FBUyxHQUFFLENBQUcsQ0FBQSxHQUFFLENBQUc7QUFDdkIsT0FBRyxPQUFPLEFBQUMsQ0FBQyxDQUNSLEdBQUUsQ0FBRyxDQUFBLEdBQUUsT0FBTyxRQUFRLENBQzFCLENBQUcsVUFBVSxHQUFFLENBQUcsQ0FBQSxJQUFHLENBQUc7QUFDcEIsU0FBSSxHQUFFLENBQUc7QUFDTCxVQUFFLEtBQUssQUFBQyxDQUFDLEdBQUUsQ0FBQyxDQUFDO01BQ2pCO0FBQUEsQUFFQSxRQUFFLEtBQUssQUFBQyxDQUFDLENBQUUsT0FBTSxDQUFHLHNCQUFvQixDQUFDLENBQUMsQ0FBQztJQUMvQyxDQUFDLENBQUM7RUFDTixDQUFDLENBQUM7QUFFTixPQUFLLE1BQU0sQUFBQyxDQUFDLFFBQU8sQ0FBQyxLQUViLEFBQUMsQ0FBQyxTQUFVLEdBQUUsQ0FBRyxDQUFBLEdBQUUsQ0FBRztBQUN0QixBQUFJLE1BQUEsQ0FBQSxJQUFHLEVBQUksSUFBSSxLQUFHLEFBQUMsRUFBQyxDQUFDO0FBQ3JCLE9BQUcsTUFBTSxFQUFJLENBQUEsR0FBRSxLQUFLLE1BQU0sQ0FBQztBQUMzQixPQUFHLFNBQVMsRUFBSSxDQUFBLElBQUcsYUFBYSxBQUFDLENBQUMsR0FBRSxLQUFLLFNBQVMsQ0FBQyxDQUFDO0FBRXBELE9BQUcsS0FBSyxBQUFDLENBQUMsU0FBVSxHQUFFLENBQUc7QUFDckIsU0FBSSxHQUFFLENBQUc7QUFDTCxVQUFFLEtBQUssQUFBQyxDQUFDLEdBQUUsQ0FBQyxDQUFDO01BQ2pCO0FBQUEsQUFFQSxRQUFFLEtBQUssQUFBQyxDQUFDLENBQUUsT0FBTSxDQUFHLGVBQWEsQ0FBRSxDQUFDLENBQUM7SUFDekMsQ0FBQyxDQUFDO0VBQ04sQ0FBQyxJQUVFLEFBQUMsQ0FBQyxTQUFTLEdBQUUsQ0FBRyxDQUFBLEdBQUUsQ0FBRztBQUNwQixPQUFHLEtBQUssQUFBQyxDQUFDLFNBQVMsR0FBRSxDQUFHLENBQUEsS0FBSSxDQUFHO0FBQzNCLFNBQUksR0FBRSxDQUFHO0FBQ0wsVUFBRSxLQUFLLEFBQUMsQ0FBQyxHQUFFLENBQUMsQ0FBQztNQUNqQjtBQUFBLEFBRUEsUUFBRSxLQUFLLEFBQUMsQ0FBQyxLQUFJLENBQUMsQ0FBQztJQUNuQixDQUFDLENBQUM7RUFDTixDQUFDLENBQUM7QUFFTixPQUFLLE1BQU0sQUFBQyxDQUFDLFFBQU8sQ0FBQyxLQUVoQixBQUFDLENBQUMsU0FBUyxHQUFFLENBQUcsQ0FBQSxHQUFFLENBQUcsQ0FBQSxJQUFHLENBQUc7QUFDeEIsV0FBTyxhQUFhLEFBQUMsQ0FBQyxhQUFZLENBQUcsVUFBUyxHQUFFLENBQUcsQ0FBQSxJQUFHLENBQUcsQ0FBQSxJQUFHLENBQUc7QUFDM0QsU0FBSSxHQUFFLENBQUc7QUFBRSxhQUFPLENBQUEsR0FBRSxLQUFLLEFBQUMsQ0FBQyxDQUFFLEtBQUksQ0FBSSxNQUFJLENBQUUsQ0FBQyxDQUFDO01BQUU7QUFBQSxBQUMvQyxTQUFJLENBQUMsSUFBRyxDQUFHO0FBQUUsYUFBTyxDQUFBLEdBQUUsS0FBSyxBQUFDLENBQUMsQ0FBRSxzQkFBcUIsQ0FBSSxNQUFJLENBQUUsQ0FBQyxDQUFDO01BQUU7QUFBQSxBQUNsRSxZQUFNLElBQUksQUFBQyxDQUFDLElBQUcsQ0FBQyxDQUFDO0FBQ2pCLFlBQU0sSUFBSSxBQUFDLENBQUMsR0FBRSxNQUFNLENBQUMsQ0FBQztBQUN0QixRQUFFLE1BQU0sQUFBQyxDQUFDLElBQUcsQ0FBRyxVQUFTLEdBQUUsQ0FBRyxDQUFBLE1BQUssQ0FBRztBQUNsQyxXQUFJLEdBQUUsQ0FBRztBQUFFLGVBQU8sQ0FBQSxJQUFHLEFBQUMsQ0FBQyxHQUFFLENBQUMsQ0FBQztRQUFFO0FBQUEsQUFDN0IsYUFBTyxDQUFBLEdBQUUsS0FBSyxBQUFDLENBQUMsQ0FBRSxzQkFBcUIsQ0FBSSxLQUFHLENBQUUsQ0FBQyxDQUFDO01BQ3RELENBQUMsQ0FBQztJQUNOLENBQUMsQUFBQyxDQUFDLEdBQUUsQ0FBRyxJQUFFLENBQUcsS0FBRyxDQUFDLENBQUM7RUFDdEIsQ0FBQyxDQUFBO0FBRUwsT0FBSyxNQUFNLEFBQUMsQ0FBQyxrQkFBaUIsQ0FBQyxJQUV4QixBQUFDLENBQUMsU0FBUyxHQUFFLENBQUcsQ0FBQSxHQUFFLENBQUc7QUFDcEIsTUFBRSxLQUFLLEFBQUMsQ0FBQyxDQUFFLElBQUcsQ0FBRyxDQUFBLEdBQUUsZ0JBQWdCLEFBQUMsRUFBQyxDQUFFLENBQUMsQ0FBQztFQUM3QyxDQUFDLENBQUE7QUFDVCxDQUFDO0FBQUEiLCJmaWxlIjoiYmFja2VuZC9yb3V0ZXMvYXBpL2luZGV4LmpzIiwic291cmNlUm9vdCI6Ii4uLy4uLy4uIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihhcHAsIGV4cHJlc3MsIE5lcmQsIFVzZXIsIHBhc3Nwb3J0KSB7XG5cbiAgICB2YXIgZXhwcmVzcyAgICAgICAgPSByZXF1aXJlKCdleHByZXNzJyk7XG4gICAgdmFyIHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG4gICAgdmFyIHBvcnQgPSBwcm9jZXNzLmVudi5QT1JUIHx8IDgwODA7XG5cbiAgICAvLyBzZXJ2ZXIgcm91dGVzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gaGFuZGxlIHRoaW5ncyBsaWtlIGFwaSBjYWxsc1xuICAgIC8vIGF1dGhlbnRpY2F0aW9uIHJvdXRlc1xuICAgIGFwcC51c2UoJy9hcGknLCByb3V0ZXIpO1xuXG4gICAgcm91dGVyLmdldCgnLycsIGZ1bmN0aW9uIChyZXEsIHJlcykge1xuICAgICAgICByZXMuanNvbih7bWVzc2FnZTogJ2hvb3JheSEgV2VsY29tZSB0byBteSBkb21haW4nfSk7XG4gICAgfSk7XG5cbiAgICByb3V0ZXIucm91dGUoJy9uZXJkcycpXG5cbiAgICAgICAgLnBvc3QoZnVuY3Rpb24gKHJlcSwgcmVzKSB7XG4gICAgICAgICAgICB2YXIgbmVyZCA9IG5ldyBOZXJkKCk7XG4gICAgICAgICAgICBuZXJkLm5hbWUgPSByZXEuYm9keS5uYW1lO1xuXG4gICAgICAgICAgICBuZXJkLnNhdmUoZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnNlbmQoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXMuanNvbih7IG1lc3NhZ2U6ICdOZXJkIGNyZWF0ZWQnIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG5cbiAgICAgICAgLmdldChmdW5jdGlvbihyZXEsIHJlcykge1xuICAgICAgICAgICAgTmVyZC5maW5kKGZ1bmN0aW9uKGVyciwgbmVyZHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zZW5kKGVycik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVzLmpzb24obmVyZHMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgcm91dGVyLnJvdXRlKCcvbmVyZC86bmVyZF9pZCcpXG5cbiAgICAgICAgLmdldChmdW5jdGlvbihyZXEsIHJlcykge1xuICAgICAgICAgICAgTmVyZC5maW5kQnlJZChyZXEucGFyYW1zLm5lcmRfaWQsIGZ1bmN0aW9uKGVyciwgbmVyZCkge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnNlbmQoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXMuanNvbihuZXJkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuXG4gICAgICAgIC5wdXQoZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgICAgICAgICAgIE5lcmQuZmluZEJ5SWQocmVxLnBhcmFtcy5uZXJkX2lkLCBmdW5jdGlvbihlcnIsIG5lcmQpIHtcblxuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnNlbmQoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBuZXJkLm5hbWUgPSByZXEuYm9keS5uYW1lO1xuXG4gICAgICAgICAgICAgICAgbmVyZC5zYXZlKGZ1bmN0aW9uKGVycikge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zZW5kKGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXMuanNvbih7IG1lc3NhZ2U6ICdOZXJkIHVwZGF0ZWQhJyB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuXG4gICAgICAgIC5kZWxldGUoZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgICAgICAgICAgIE5lcmQucmVtb3ZlKHtcbiAgICAgICAgICAgICAgICBfaWQ6IHJlcS5wYXJhbXMubmVyZF9pZFxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVyciwgbmVyZCkge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnNlbmQoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXMuanNvbih7IG1lc3NhZ2U6ICdTdWNjZXNzZnVsbHkgZGVsZXRlJ30pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgcm91dGVyLnJvdXRlKCcvdXNlcnMnKVxuXG4gICAgICAgIC5wb3N0KGZ1bmN0aW9uIChyZXEsIHJlcykge1xuICAgICAgICAgICAgdmFyIHVzZXIgPSBuZXcgVXNlcigpO1xuICAgICAgICAgICAgdXNlci5lbWFpbCA9IHJlcS5ib2R5LmVtYWlsO1xuICAgICAgICAgICAgdXNlci5wYXNzd29yZCA9IHVzZXIuZ2VuZXJhdGVIYXNoKHJlcS5ib2R5LnBhc3N3b3JkKTtcblxuICAgICAgICAgICAgdXNlci5zYXZlKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zZW5kKGVycik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVzLmpzb24oeyBtZXNzYWdlOiAnTmVyZCBjcmVhdGVkJyB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuXG4gICAgICAgIC5nZXQoZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgICAgICAgICAgIFVzZXIuZmluZChmdW5jdGlvbihlcnIsIHVzZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZXMuc2VuZChlcnIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlcy5qc29uKHVzZXJzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgIHJvdXRlci5yb3V0ZSgnL2xvZ2luJylcblxuICAgICAucG9zdChmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICAgICAgICAgICAgcGFzc3BvcnQuYXV0aGVudGljYXRlKCdsb2NhbC1sb2dpbicsIGZ1bmN0aW9uKGVyciwgdXNlciwgaW5mbykge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHsgcmV0dXJuIHJlcy5qc29uKHsgZXJyb3IgOiBmYWxzZSB9KTsgfVxuICAgICAgICAgICAgICAgIGlmICghdXNlcikgeyByZXR1cm4gcmVzLmpzb24oeyBhdXRoZW50aWNhdGlvbl9zdWNjZXNzIDogZmFsc2UgfSk7IH1cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh1c2VyKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXEubG9nSW4pO1xuICAgICAgICAgICAgICAgIHJlcS5sb2dpbih1c2VyLCBmdW5jdGlvbihlcnIsIHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7IHJldHVybiBuZXh0KGVycik7IH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKHsgYXV0aGVudGljYXRpb25fc3VjY2VzcyA6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KShyZXEsIHJlcywgbmV4dCk7XG4gICAgICAgIH0pXG5cbiAgICByb3V0ZXIucm91dGUoJy9pc0F1dGhlbnRpY2F0ZWQnKVxuXG4gICAgICAgIC5nZXQoZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgICAgICAgICAgIHJlcy5qc29uKHsgYXV0aDogcmVxLmlzQXV0aGVudGljYXRlZCgpIH0pO1xuICAgICAgICB9KVxufTsiXX0=